/*
 * usb_control.h
 *
 *  Created on: Dec 5, 2025
 *      Author: Lilly
 */

#pragma once
#include <stdint.h>

#ifndef SRC_USB_CONTROL_H_
#define SRC_USB_CONTROL_H_

void USB_control(const char *broadcaster, const uint8_t *usb_data, uint8_t byte_len);

/**
 * Euer "echtes" Transmit:
 * - hÃ¤lt 10 Hz ein
 * - retry bei USBD_BUSY
 * - sendet pending packet
 *
 * -> In der Mainloop oft aufrufen!
 */
void USB_transmit(void);

// Optional: Counters
extern volatile uint32_t usb_not_configured, usb_busy, usb_fail, usb_ok;
extern volatile uint32_t usb_bad_len, usb_too_big, usb_bad_src, usb_throttled;



/*

#include <stdint.h>

//void USB_control(const char *broadcaster, uint8_t *usb_data, uint8_t data_size);
void USB_control(const char *broadcaster, uint8_t *usb_data, uint8_t byte_len);
void USB_transmit(uint8_t type, uint8_t *ids_values, uint8_t value_count);


#endif /* SRC_USB_CONTROL_H_ */

